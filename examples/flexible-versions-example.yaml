# Esempio di Configurazione con Versioni Flessibili
# Dimostra come il sistema ATLAS gestisce le versioni opzionali

# Server Web con versioni miste
web_server_flexible:
  name: "web-flex-01"
  os_type: "ubuntu-22.04"
  memory: 4096
  cores: 2
  
  software:
    # Approccio 1: Solo nome (usa latest automaticamente)
    - name: nginx
    
    # Approccio 2: Nome con versione esplicita
    - name: postgresql
      version: "14.9"
      
    # Approccio 3: Latest esplicito
    - name: docker
      version: "latest"
      
    # Approccio 4: Range di versioni
    - name: nodejs
      version: "~18.0"
      
    # Approccio 5: Versioni speciali
    - name: certbot
      version: "lts"
      
    # Approccio 6: Solo stringa (formato semplificato)
    - redis
    - git
    - vim

# Server di sviluppo con controllo preciso
dev_server_controlled:
  name: "dev-controlled-01"
  os_type: "ubuntu-22.04"
  memory: 8192
  cores: 4
  
  software:
    # Ambiente di sviluppo con versioni precise per riproducibilità
    - name: python
      version: "3.11.5"        # Versione esatta
      config:
        install_pip: true
        
    - name: nodejs
      version: "18.17.0"       # Versione specifica per team consistency
      source: "snap"
      
    # Tools di sviluppo possono usare latest
    - name: git
    - name: vim
    - name: htop
    
    # Docker con versione compatibile
    - name: docker
      version: "^24.0"         # Qualsiasi 24.x compatibile

# Ambiente di produzione con stabilità massima
production_stable:
  name: "prod-stable-01"
  os_type: "ubuntu-22.04"
  memory: 16384
  cores: 8
  
  software:
    # Produzione usa versioni testate e stabili
    - name: nginx
      version: "1.22.1"        # Versione testata in staging
      
    - name: postgresql
      version: "14.9"          # Versione LTS database
      
    # Security tools usano latest per patch di sicurezza
    - name: fail2ban
    - name: ufw
    
    # Monitoring può usare stable
    - name: prometheus-node-exporter
      version: "stable"

# Esempio minimalista
minimal_server:
  name: "minimal-01"
  os_type: "ubuntu-22.04"
  memory: 1024
  cores: 1
  
  software:
    # Configurazione minimale - tutto latest
    - nginx
    - docker
    - git
